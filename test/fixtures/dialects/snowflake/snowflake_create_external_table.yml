# YML test files are auto-generated from SQL files and should not be edited by
# hand. To help enforce this, the "hash" field in the file must match a hash
# computed by SQLFluff when running the tests. Please run
# `python test/generate_parse_fixture_yml.py`  to generate them after adding or
# altering SQL files.
_hash: 08bfae3dffb7dd5394d8d5b20b0d91b1d5898018bc1840cc54f13d6ef574c2fd
file:
- statement:
    create_external_table_statement:
    - keyword: create
    - keyword: or
    - keyword: replace
    - keyword: external
    - keyword: table
    - table_reference:
        naked_identifier: ext_table
    - keyword: with
    - keyword: location
    - comparison_operator:
        comparison_operator: '='
    - stage_path: '@mystage/path1/'
    - keyword: file_format
    - comparison_operator:
        comparison_operator: '='
    - file_format_segment:
        bracketed:
          start_bracket: (
          json_file_format_type_parameters:
            keyword: type
            comparison_operator:
              comparison_operator: '='
            file_type: json
          end_bracket: )
    - keyword: aws_sns_topic
    - comparison_operator:
        comparison_operator: '='
    - quoted_literal: "'arn:aws:sns:us-west-2:001234567890:s3_mybucket'"
- statement_terminator: ;
- statement:
    create_external_table_statement:
    - keyword: create
    - keyword: or
    - keyword: replace
    - keyword: external
    - keyword: table
    - table_reference:
        quoted_identifier: '"_p08"'
    - keyword: with
    - keyword: location
    - comparison_operator:
        comparison_operator: '='
    - stage_path: '@carpe_datastore_commercial/p08'
    - keyword: auto_refresh
    - comparison_operator:
        comparison_operator: '='
    - boolean_literal: 'true'
    - keyword: file_format
    - comparison_operator:
        comparison_operator: '='
    - file_format_segment:
        bracketed:
          start_bracket: (
          parquet_file_format_type_parameters:
            keyword: type
            comparison_operator:
              comparison_operator: '='
            file_type: parquet
          end_bracket: )
    - keyword: pattern
    - comparison_operator:
        comparison_operator: '='
    - quoted_literal: "'.*[.]parquet.*'"
- statement_terminator: ;
- statement:
    create_external_table_statement:
    - keyword: CREATE
    - keyword: EXTERNAL
    - keyword: TABLE
    - table_reference:
      - naked_identifier: EXTERNAL_TABLES
      - dot: .
      - naked_identifier: TRIPS
    - bracketed:
      - start_bracket: (
      - naked_identifier: tripduration
      - data_type:
          data_type_identifier: integer
      - keyword: as
      - expression:
          function:
            function_name:
              function_name_identifier: try_cast
            bracketed:
              start_bracket: (
              expression:
                column_reference:
                  naked_identifier: VALUE
                snowflake_semi_structured_expression:
                  colon: ':'
                  semi_structured_element: c1
                cast_expression:
                  casting_operator: '::'
                  data_type:
                    data_type_identifier: varchar
              keyword: as
              data_type:
                data_type_identifier: integer
              end_bracket: )
      - comma: ','
      - naked_identifier: starttime
      - data_type:
          keyword: timestamp
      - keyword: as
      - expression:
          function:
            function_name:
              function_name_identifier: try_cast
            bracketed:
              start_bracket: (
              expression:
                column_reference:
                  naked_identifier: VALUE
                snowflake_semi_structured_expression:
                  colon: ':'
                  semi_structured_element: c2
                cast_expression:
                  casting_operator: '::'
                  data_type:
                    data_type_identifier: varchar
              keyword: as
              data_type:
                keyword: timestamp
              end_bracket: )
      - comma: ','
      - naked_identifier: stoptime
      - data_type:
          keyword: timestamp
      - keyword: as
      - expression:
          function:
            function_name:
              function_name_identifier: try_cast
            bracketed:
              start_bracket: (
              expression:
                column_reference:
                  naked_identifier: VALUE
                snowflake_semi_structured_expression:
                  colon: ':'
                  semi_structured_element: c3
                cast_expression:
                  casting_operator: '::'
                  data_type:
                    data_type_identifier: varchar
              keyword: as
              data_type:
                keyword: timestamp
              end_bracket: )
      - comma: ','
      - naked_identifier: start_station_id
      - data_type:
          data_type_identifier: integer
      - keyword: as
      - expression:
          function:
            function_name:
              function_name_identifier: try_cast
            bracketed:
              start_bracket: (
              expression:
                column_reference:
                  naked_identifier: VALUE
                snowflake_semi_structured_expression:
                  colon: ':'
                  semi_structured_element: c4
                cast_expression:
                  casting_operator: '::'
                  data_type:
                    data_type_identifier: varchar
              keyword: as
              data_type:
                data_type_identifier: integer
              end_bracket: )
      - comma: ','
      - naked_identifier: start_station_name
      - data_type:
          data_type_identifier: varchar
      - keyword: as
      - bracketed:
          start_bracket: (
          expression:
            column_reference:
              naked_identifier: VALUE
            snowflake_semi_structured_expression:
              colon: ':'
              semi_structured_element: c5
            cast_expression:
              casting_operator: '::'
              data_type:
                data_type_identifier: varchar
          end_bracket: )
      - comma: ','
      - naked_identifier: start_station_latitude
      - data_type:
          data_type_identifier: float
      - keyword: as
      - expression:
          function:
            function_name:
              function_name_identifier: try_cast
            bracketed:
              start_bracket: (
              expression:
                column_reference:
                  naked_identifier: VALUE
                snowflake_semi_structured_expression:
                  colon: ':'
                  semi_structured_element: c6
                cast_expression:
                  casting_operator: '::'
                  data_type:
                    data_type_identifier: varchar
              keyword: as
              data_type:
                data_type_identifier: float
              end_bracket: )
      - comma: ','
      - naked_identifier: start_station_longitude
      - data_type:
          data_type_identifier: float
      - keyword: as
      - expression:
          function:
            function_name:
              function_name_identifier: try_cast
            bracketed:
              start_bracket: (
              expression:
                column_reference:
                  naked_identifier: VALUE
                snowflake_semi_structured_expression:
                  colon: ':'
                  semi_structured_element: c7
                cast_expression:
                  casting_operator: '::'
                  data_type:
                    data_type_identifier: varchar
              keyword: as
              data_type:
                data_type_identifier: float
              end_bracket: )
      - comma: ','
      - naked_identifier: end_station_id
      - data_type:
          data_type_identifier: integer
      - keyword: as
      - expression:
          function:
            function_name:
              function_name_identifier: try_cast
            bracketed:
              start_bracket: (
              expression:
                column_reference:
                  naked_identifier: VALUE
                snowflake_semi_structured_expression:
                  colon: ':'
                  semi_structured_element: c8
                cast_expression:
                  casting_operator: '::'
                  data_type:
                    data_type_identifier: varchar
              keyword: as
              data_type:
                data_type_identifier: integer
              end_bracket: )
      - comma: ','
      - naked_identifier: end_station_name
      - data_type:
          data_type_identifier: varchar
      - keyword: as
      - bracketed:
          start_bracket: (
          expression:
            column_reference:
              naked_identifier: VALUE
            snowflake_semi_structured_expression:
              colon: ':'
              semi_structured_element: c9
            cast_expression:
              casting_operator: '::'
              data_type:
                data_type_identifier: varchar
          end_bracket: )
      - comma: ','
      - naked_identifier: end_station_latitude
      - data_type:
          data_type_identifier: float
      - keyword: as
      - expression:
          function:
            function_name:
              function_name_identifier: try_cast
            bracketed:
              start_bracket: (
              expression:
                column_reference:
                  naked_identifier: VALUE
                snowflake_semi_structured_expression:
                  colon: ':'
                  semi_structured_element: c10
                cast_expression:
                  casting_operator: '::'
                  data_type:
                    data_type_identifier: varchar
              keyword: as
              data_type:
                data_type_identifier: float
              end_bracket: )
      - comma: ','
      - naked_identifier: end_station_longitude
      - data_type:
          data_type_identifier: float
      - keyword: as
      - expression:
          function:
            function_name:
              function_name_identifier: try_cast
            bracketed:
              start_bracket: (
              expression:
                column_reference:
                  naked_identifier: VALUE
                snowflake_semi_structured_expression:
                  colon: ':'
                  semi_structured_element: c11
                cast_expression:
                  casting_operator: '::'
                  data_type:
                    data_type_identifier: varchar
              keyword: as
              data_type:
                data_type_identifier: float
              end_bracket: )
      - comma: ','
      - naked_identifier: bikeid
      - data_type:
          data_type_identifier: integer
      - keyword: as
      - expression:
          function:
            function_name:
              function_name_identifier: try_cast
            bracketed:
              start_bracket: (
              expression:
                column_reference:
                  naked_identifier: VALUE
                snowflake_semi_structured_expression:
                  colon: ':'
                  semi_structured_element: c12
                cast_expression:
                  casting_operator: '::'
                  data_type:
                    data_type_identifier: varchar
              keyword: as
              data_type:
                data_type_identifier: integer
              end_bracket: )
      - comma: ','
      - naked_identifier: membership_type
      - data_type:
          data_type_identifier: varchar
      - keyword: as
      - bracketed:
          start_bracket: (
          expression:
            column_reference:
              naked_identifier: VALUE
            snowflake_semi_structured_expression:
              colon: ':'
              semi_structured_element: c13
            cast_expression:
              casting_operator: '::'
              data_type:
                data_type_identifier: varchar
          end_bracket: )
      - comma: ','
      - naked_identifier: usertype
      - data_type:
          data_type_identifier: varchar
      - keyword: as
      - bracketed:
          start_bracket: (
          expression:
            column_reference:
              naked_identifier: VALUE
            snowflake_semi_structured_expression:
              colon: ':'
              semi_structured_element: c14
            cast_expression:
              casting_operator: '::'
              data_type:
                data_type_identifier: varchar
          end_bracket: )
      - comma: ','
      - naked_identifier: birth_year
      - data_type:
          data_type_identifier: integer
      - keyword: as
      - expression:
          function:
            function_name:
              function_name_identifier: try_cast
            bracketed:
              start_bracket: (
              expression:
                column_reference:
                  naked_identifier: VALUE
                snowflake_semi_structured_expression:
                  colon: ':'
                  semi_structured_element: c15
                cast_expression:
                  casting_operator: '::'
                  data_type:
                    data_type_identifier: varchar
              keyword: as
              data_type:
                data_type_identifier: integer
              end_bracket: )
      - comma: ','
      - naked_identifier: gender
      - data_type:
          data_type_identifier: integer
      - keyword: as
      - expression:
          function:
            function_name:
              function_name_identifier: try_cast
            bracketed:
              start_bracket: (
              expression:
                column_reference:
                  naked_identifier: VALUE
                snowflake_semi_structured_expression:
                  colon: ':'
                  semi_structured_element: c16
                cast_expression:
                  casting_operator: '::'
                  data_type:
                    data_type_identifier: varchar
              keyword: as
              data_type:
                data_type_identifier: integer
              end_bracket: )
      - comma: ','
      - naked_identifier: year
      - data_type:
          data_type_identifier: integer
      - keyword: as
      - bracketed:
          start_bracket: (
          expression:
            function:
              function_name:
                function_name_identifier: substr
              bracketed:
              - start_bracket: (
              - expression:
                  column_reference:
                    naked_identifier: metadata$filename
              - comma: ','
              - expression:
                  numeric_literal: '22'
              - comma: ','
              - expression:
                  numeric_literal: '4'
              - end_bracket: )
            cast_expression:
              casting_operator: '::'
              data_type:
                data_type_identifier: integer
          end_bracket: )
      - end_bracket: )
    - keyword: PARTITION
    - keyword: BY
    - bracketed:
        start_bracket: (
        naked_identifier: year
        end_bracket: )
    - keyword: LOCATION
    - comparison_operator:
        comparison_operator: '='
    - stage_path: '@external_tables.citibike_trips'
    - keyword: FILE_FORMAT
    - comparison_operator:
        comparison_operator: '='
    - file_format_segment:
        bracketed:
          start_bracket: (
          csv_file_format_type_parameters:
          - keyword: TYPE
          - comparison_operator:
              comparison_operator: '='
          - file_type: "'CSV'"
          - keyword: FIELD_OPTIONALLY_ENCLOSED_BY
          - comparison_operator:
              comparison_operator: '='
          - quoted_literal: "'\"'"
          end_bracket: )
- statement_terminator: ;
